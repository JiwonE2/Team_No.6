{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport defaultAxios from \"axios\";\nimport { useEffect, useState } from \"react\";\n/*\r\n컴포넌트 최상위에서 Hook이 호출되어야만 하는 이유\r\n리액트는 Hook이 호출되는 순서에 의존하여 '특정 state가 useState 호출에 해당하는지 알 수 있다.'\r\n따라서 조건문이 중간에 삽입되면 Hook의 순서가 꼬이고 버그가 발생하게 된다.\r\n*/\n\nconst useAxios = (opts, axiosInstance = defaultAxios) => {\n  _s();\n\n  const [state, setState] = useState({\n    loading: true,\n    error: null,\n    data: null\n  }); // if (!opts.url) {\n  //   return;\n  // }\n\n  const [trigger, setTrigger] = useState(0);\n  useEffect(() => {\n    axiosInstance(opts).then(data => {\n      console.log(`opts : ${opts}`);\n      setState({ ...state,\n        loading: false,\n        data\n      });\n    }).catch(error => {\n      setState({ ...state,\n        loading: false,\n        error\n      });\n      console.log(error);\n    });\n  }, []);\n  return state;\n};\n\n_s(useAxios, \"e9AZ95iDeJUhSAf2z2VKjz6K3Fo=\");\n\nexport default useAxios;","map":{"version":3,"sources":["C:/reactproject/movie_app_2021/src/components/useAxios.js"],"names":["defaultAxios","useEffect","useState","useAxios","opts","axiosInstance","state","setState","loading","error","data","trigger","setTrigger","then","console","log","catch"],"mappings":";;AAAA,OAAOA,YAAP,MAAyB,OAAzB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,QAAQ,GAAG,CAACC,IAAD,EAAOC,aAAa,GAAGL,YAAvB,KAAwC;AAAA;;AACvD,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC;AACjCM,IAAAA,OAAO,EAAE,IADwB;AAEjCC,IAAAA,KAAK,EAAE,IAF0B;AAGjCC,IAAAA,IAAI,EAAE;AAH2B,GAAD,CAAlC,CADuD,CAOvD;AACA;AACA;;AAEA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,CAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,aAAa,CAACD,IAAD,CAAb,CACGS,IADH,CACQH,IAAI,IAAI;AACZI,MAAAA,OAAO,CAACC,GAAR,CAAa,UAASX,IAAK,EAA3B;AACAG,MAAAA,QAAQ,CAAC,EACP,GAAGD,KADI;AAEPE,QAAAA,OAAO,EAAE,KAFF;AAGPE,QAAAA;AAHO,OAAD,CAAR;AAKD,KARH,EASGM,KATH,CASSP,KAAK,IAAI;AACdF,MAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYE,QAAAA,OAAO,EAAE,KAArB;AAA4BC,QAAAA;AAA5B,OAAD,CAAR;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACD,KAZH;AAaD,GAdQ,EAcN,EAdM,CAAT;AAgBA,SAAOH,KAAP;AACD,CA9BD;;GAAMH,Q;;AAgCN,eAAeA,QAAf","sourcesContent":["import defaultAxios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\n/*\r\n컴포넌트 최상위에서 Hook이 호출되어야만 하는 이유\r\n리액트는 Hook이 호출되는 순서에 의존하여 '특정 state가 useState 호출에 해당하는지 알 수 있다.'\r\n따라서 조건문이 중간에 삽입되면 Hook의 순서가 꼬이고 버그가 발생하게 된다.\r\n*/\r\n\r\nconst useAxios = (opts, axiosInstance = defaultAxios) => {\r\n  const [state, setState] = useState({\r\n    loading: true,\r\n    error: null,\r\n    data: null\r\n  })\r\n\r\n  // if (!opts.url) {\r\n  //   return;\r\n  // }\r\n\r\n  const [trigger, setTrigger] = useState(0);\r\n\r\n  useEffect(() => {\r\n    axiosInstance(opts)\r\n      .then(data => {\r\n        console.log(`opts : ${opts}`);\r\n        setState({\r\n          ...state,\r\n          loading: false,\r\n          data\r\n        });\r\n      })\r\n      .catch(error => {\r\n        setState({ ...state, loading: false, error });\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n\r\nexport default useAxios;"]},"metadata":{},"sourceType":"module"}